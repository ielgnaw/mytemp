/*! 2016 Baidu Inc. All Rights Reserved */
define("index.0314.bak",["require","./config","./util","./Game","./branch"],function(require){function e(e){var t=e.target||e.srcElement;t.parentNode.removeChild(t)}function t(e){e.stopPropagation(),e.preventDefault(),f.style.display="none",h.style.display="block"}function n(t){var n=document.createElement("div");n.className="break-branch down";var r=n.style;r.marginLeft=m-t-10+s.x+"px",r.width=t+"px",r.top=s.y+"px",n.innerHTML='<div class="branch-middle branch-middle1" style="width: '+t+'px;"></div><div class="branch-right branch-right1" style="margin-left: '+t+'px"></div>',n.addEventListener("webkitAnimationEnd",e),n.addEventListener("animationend",e),p.appendChild(n),m-=t,s.vx=0,s.changeStyle(t),s=new c({x:globalData.width-m,y:offsetTop-a.swingBranchTop,vx:1,width:m}),g.addSprite(s)}function r(t){var n=document.createElement("div");n.className="break-branch down";var r=n.style;r.marginLeft=s.x+"px",r.width=t+"px",r.top=s.y+"px",n.innerHTML='<div class="branch-left branch-left1"></div><div class="branch-middle branch-middle1" style="width: '+t+'px;"></div>',n.addEventListener("webkitAnimationEnd",e),n.addEventListener("animationend",e),p.appendChild(n),m-=t,s.vx=0,s.dom.style.marginLeft=t+"px",s.changeStyle(t),s=new c({x:0,y:offsetTop-a.swingBranchTop,vx:1,width:m}),g.addSprite(s)}function i(e){e.stopPropagation(),e.preventDefault(),offsetTop=s.y+=a.dropDistance;var t=0;if(s.x>72)t=s.x+m-72-a.defaultBranchWidth,n(t);else if(s.x<72)t=(globalData.width-m)/2-s.x,r(t);else console.warn("niubi")}var s,a=require("./config"),o=require("./util"),l=require("./Game"),c=require("./branch"),u=document,f=u.querySelector(".guide-tip"),d=u.querySelector(".start"),h=u.querySelector(".game-content"),p=u.querySelector(".branch-container"),m=a.defaultBranchWidth,g=new l,exports={};return exports.init=function(){document.querySelector(".base").style.webkitTransform="",document.querySelector(".base").style.transform="translate3d("+(globalData.width-m)/2+"px, 0, 0)",d.addEventListener(globalData.touchStartEvent,t),u.body.addEventListener(globalData.touchStartEvent,i);var e=document.querySelector(".branch-item").offsetTop;s=new c({x:30,y:e-a.swingBranchTop,vx:1,width:m}),g.addSprite({count:0,move:function(){var e=o.fps();if(10===++this.count)this.count=0,document.querySelector(".left span").innerHTML=e}}),g.addSprite(s),g.render()},exports});