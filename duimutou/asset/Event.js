/*! 2016 Baidu Inc. All Rights Reserved */
"use strict";define("Event",["require"],function(){function e(){this._events={}}var t="_observerGUID",n=e.prototype;return n.on=function(e,n){if(!this._events)this._events={};var r=this._events[e];if(!r)r=this._events[e]=[];if(!n.hasOwnProperty(t))n[t]=+new Date;return r.push(n),this},n.un=function(e,t){if(this._events){if(!t)return void(this._events[e]=[]);var n=this._events[e];if(n)for(var r=0;r<n.length;r++)if(n[r]===t)n.splice(r,1),r--;return this}},n.fire=function(e,n){if(1===arguments.length&&"object"==typeof e)n=e,e=n.type;var r=this["on"+e];if("function"==typeof r)r.call(this,n);if(this._events){if(null==n)n={};if("[object Object]"!==Object.prototype.toString.call(n))n={data:n};n.type=e,n.target=this;var i={},s=this._events[e];if(s){s=s.slice();for(var a=0;a<s.length;a++){var o=s[a];if(!i.hasOwnProperty(o[t]))o.call(this,n)}}if("*"!==e){var l=this._events["*"];if(!l)return;l=l.slice();for(var a=0;a<l.length;a++){var o=l[a];if(!i.hasOwnProperty(o[t]))o.call(this,n)}}}},n.clearEvents=function(){this._events={}},n.enable=function(t){t._events={},t.on=e.prototype.on,t.un=e.prototype.un,t.fire=e.prototype.fire},e});