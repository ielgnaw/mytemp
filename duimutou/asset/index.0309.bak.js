/*! 2016 Baidu Inc. All Rights Reserved */
define("index.0309.bak",["require","./create","./config"],function(require){function e(e){var t=e.target||e.srcElement;t.parentNode.removeChild(t)}function t(e){e.stopPropagation(),e.preventDefault(),u.style.display="none",f.style.display="block"}function n(e){e.stopPropagation(),e.preventDefault();var t=document.querySelector(".current"),n=window.getComputedStyle(t).transform||window.getComputedStyle(t).webkitTransform,s=0,o=n.match(/matrix\(1, 0, 0, 1, (.*),[\s\S]*/);if(o)s=0|o[1];t.classList.remove("swing");var l=s+a.centerMarginLeft|0;if(s>0)i(t,l,s);else r(t,l,s)}function r(t,n){t.classList.remove("current");var r=t.style;r.transform="translateY(23px)",r.webkitTransform="translateY(23px)";var i=l(a.centerMarginLeft-n);console.warn("截取的小木头碎片的宽度",i),r.width=a.branchMiddleWidth-i+10+"px";for(var o=t.childNodes,u=o.length,c=-1;++c<u;){var f=o[c];if(f.classList.contains("branch-middle"))f.style.width=a.branchMiddleWidth-i+"px";if(f.classList.contains("branch-right"))f.style.marginLeft=a.branchMiddleWidth-i+"px"}var d=offsetTop=parseInt(r.top)+a.dropDistance,p=document.createElement("div");p.className="break-branch down",p.style.marginLeft=n+"px",p.style.width=i+"px",p.style.top=d+"px",p.innerHTML='<div class="branch-left branch-left1"></div><div class="branch-middle branch-middle1" style="width: '+i+'px;"></div>',p.addEventListener("webkitAnimationEnd",e),p.addEventListener("animationend",e),t.parentNode.appendChild(p),a.branchMiddleWidth=a.branchMiddleWidth-i,s(offsetTop-a.swingBranchTop,a.branchMiddleWidth)}function i(t,n){t.classList.remove("current");var r=t.style;r.transform="translateY(23px)",r.webkitTransform="translateY(23px)";var i=l(a.centerMarginLeft-n);console.warn("截取的小木头碎片的宽度",i),r.width=a.branchMiddleWidth-i+10+"px",r.marginLeft=a.centerMarginLeft+i+"px";for(var o=t.childNodes,u=o.length,c=-1;++c<u;){var f=o[c];if(f.classList.contains("branch-middle"))f.style.width=a.branchMiddleWidth-i+"px";if(f.classList.contains("branch-right"))f.style.marginLeft=a.branchMiddleWidth-i+"px"}var d=offsetTop=parseInt(r.top)+a.dropDistance,p=document.createElement("div");p.className="break-branch down",p.style.marginLeft=n+a.branchMiddleWidth-i+"px",p.style.width=i+"px",p.style.top=d+"px",p.innerHTML='<div class="branch-middle branch-middle1" style="width: '+i+'px;"></div><div class="branch-right branch-right1" style="margin-left: '+i+'px"></div>',p.addEventListener("webkitAnimationEnd",e),p.addEventListener("animationend",e),t.parentNode.appendChild(p);var h=-(a.branchMiddleWidth-i+10+a.centerMarginLeft);a.branchMiddleWidth=a.branchMiddleWidth-i,s(offsetTop-a.swingBranchTop,a.branchMiddleWidth,h)}var s=require("./create"),a=require("./config"),o=document,l=Math.abs,u=o.querySelector(".guide-tip"),c=o.querySelector(".start"),f=o.querySelector(".game-content"),exports={};return exports.init=function(){c.addEventListener(globalData.touchStartEvent,t),document.body.addEventListener(globalData.touchStartEvent,n),offsetTop=document.querySelector(".branch-item").offsetTop,s(offsetTop-a.swingBranchTop,a.branchMiddleWidth)},exports});